<!DOCTYPE html>
<head>
    <title>Undantagstorpet Loftet</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Undantagstorpet Loftet" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://hielmbygden.se/torp-och-stugor/loftet" />
    <meta property="og:image" content="https://lh3.googleusercontent.com/pw/AP1GczNLC6VrT3Hit11vpVBsIdMEHfDuN0E0eEbsD-_IRuTv5hzU8anOxy3PMVNFLD7dIP0C8fyhH_q5m4qw3_OZ1ylHFKcfaazERxARsEnySl7KidAl1ho-X1sd2xnBJexrb-1ag8wbLNJz3pKFRQlKcGqt=w1641-h839-s-no-gm?authuser=0" />
    <meta name="twitter:title" content="Undantagstorpet Loftet">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="https://lh3.googleusercontent.com/pw/AP1GczNLC6VrT3Hit11vpVBsIdMEHfDuN0E0eEbsD-_IRuTv5hzU8anOxy3PMVNFLD7dIP0C8fyhH_q5m4qw3_OZ1ylHFKcfaazERxARsEnySl7KidAl1ho-X1sd2xnBJexrb-1ag8wbLNJz3pKFRQlKcGqt=w1641-h839-s-no-gm?authuser=0">
    <meta name="twitter:card" content="summary_large_image">
    <link href=/main.3df176c74799.css rel="stylesheet" />
</head>
<body>
    <header class="main-navbar__container">
        <section class="main-navbar">
            <section class="main-navbar__title">
                <a class="root-crumb--alone breadcrumb-item" href="/">Hielmbygden</a>
            </section>
            <section class="main-nav"><details><summary>Innehåll</summary><section class="main-nav__content-type">  <details>    <summary><a href="/brott-och-straff">Brott och Straff</a></summary>    <section class="main-nav__content-item">      <a href="/brott-och-straff/svinet-i-rossareds-ollonskog">Svinet i Rossareds ollonskog</a>    </section>  </details></section><section class="main-nav__content-type">  <details>    <summary><a href="/gardar">Gårdar</a></summary>    <section class="main-nav__content-item">      <a href="/gardar/hjalm-1-nils-nilssons-gard">Hjälm 1 Nils Nilssons gård</a>    </section>    <section class="main-nav__content-item">      <a href="/gardar/hjalm-2-erik-nilssons-gard">Hjälm 2 Erik Nilssons gård</a>    </section>    <section class="main-nav__content-item">      <a href="/gardar/hjalm-2-erik-nilssons-gard-waster">Hjälm 2 Erik Nilssons gård Wäster</a>    </section>    <section class="main-nav__content-item">      <a href="/gardar/hjalm-2-erik-nilssons-gard-oster">Hjälm 2 Erik Nilssons gård Öster</a>    </section>    <section class="main-nav__content-item">      <a href="/gardar/hjalm-2-svarthall">Hjälm 2 Svarthall</a>    </section>    <section class="main-nav__content-item">      <a href="/gardar/hjalm-2t-lars-matsgard">Hjälm 2T Lars Matsgård</a>    </section>    <section class="main-nav__content-item">      <a href="/gardar/hjalm-3t-lars-palssons-gard">Hjälm 3T Lars Pålssons gård</a>    </section>    <section class="main-nav__content-item">      <a href="/gardar/hjalmberg-1-bjaragarden">Hjälmberg 1 Bjäragården</a>    </section>    <section class="main-nav__content-item">      <a href="/gardar/hjalmberg-3-mats-olufsons-gard">Hjälmberg 3 Mats Olufsons gård</a>    </section>  </details></section><section class="main-nav__content-type">  <details>    <summary><a href="/kvarnar">Kvarnar</a></summary>    <section class="main-nav__content-item">      <a href="/kvarnar/hjalm-2t-lars-matts-kvarn">Hjälm 2T Lars Matts kvarn</a>    </section>    <section class="main-nav__content-item">      <a href="/kvarnar/hjalm-4-kvarnlagenhet">Hjälm 4 Kvarnlägenhet</a>    </section>  </details></section><section class="main-nav__content-type">  <details>    <summary><a href="/torp-och-stugor">Torp och stugor</a></summary>    <section class="main-nav__content-item">      <a href="/torp-och-stugor/anna-linas-stuga">Anna Linas stuga</a>    </section>    <section class="main-nav__content-item">      <a href="/torp-och-stugor/batsman-a-lerbergs-stuga">Båtsman A Lerbergs stuga</a>    </section>    <section class="main-nav__content-item">      <a href="/torp-och-stugor/hjalm-1-torpet-hogen">Hjälm 1 torpet Högen</a>    </section>    <section class="main-nav__content-item">      <a href="/torp-och-stugor/hjalm-1-torpet-knalta">Hjälm 1 torpet Knalta</a>    </section>    <section class="main-nav__content-item">      <a href="/torp-och-stugor/lars-krampa-pellaaugust">Lars Krampa PellaAugust</a>    </section>    <section class="main-nav__content-item">      <a href="/torp-och-stugor/loftet">Loftet</a>    </section>    <section class="main-nav__content-item">      <a href="/torp-och-stugor/utsikten-lars-svensson">Utsikten Lars Svensson</a>    </section>  </details></section><section class="main-nav__content-type">  <details>    <summary><a href="/transporter">Transporter</a></summary>    <section class="main-nav__content-item">      <a href="/transporter/flottning-stensjon">Flottning Stensjön</a>    </section>  </details></section></details></section>
        </section>
    </header>
    <main class="main-content">
        <section class="banner-image__container"><img class="banner-image" src="https://lh3.googleusercontent.com/pw/AP1GczNLC6VrT3Hit11vpVBsIdMEHfDuN0E0eEbsD-_IRuTv5hzU8anOxy3PMVNFLD7dIP0C8fyhH_q5m4qw3_OZ1ylHFKcfaazERxARsEnySl7KidAl1ho-X1sd2xnBJexrb-1ag8wbLNJz3pKFRQlKcGqt=w1641-h839-s-no-gm?authuser=0" alt="Platsen där stugan låg är markerad">  <section class="image-text">Vid markeringen på bilden låg Loftets torpstuga<details><summary>ℹ️</summary><section class="image-attribution">"Platsen där stugan har legat" av Leif Andersson är licenserad under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></section></details></section></section>
        <section class="breadcrumbs"><a href="/">Hielmbygden</a> | <a href="/torp-och-stugor">Torp och stugor</a> | Loftet</section>
        <section class="main-content__page">
            <h1>Undantagstorpet Loftet</h1>
            <p><strong><em>Åbon Nils Andersson och hustrun Anna Persdotter i Hjälm 2, Erik Nilsgård vid bron får här sin undantagsstuga 1787, när de lämnar över gården till svärsonen Grundberg. År 1797 flyttar nygifta paret sjömannen Jöns Andersson och Brita Maja Matsdotter in i stugan. Åbon Erik Andersson lämnar sin gård 1809 och flyttar med sin familj in hos Brita Maja i stugan. Här bor de sedan i generationer fram till 1892. Eriks sonson Emanuel flyttar med familjen från byn 1888. Styvmodern bor kvar fram till sin död 1892. Därefter rivs troligen stugan.</em></strong></p>

<h2>Undantag under Hjälm 2, Erik Nilsgård vid bron</h2>
<a href="/ordbok/abo">Åbon</a> Nils Andersson och hustru Anna Persdotter upprättar 1783 ett förtida arvsskifte och <a href="/ordbok/undantagskontrakt">undantagskontrakt</a>. 1787 lämnar de över gården och kvarnen Hjälm 2, Erik Nilsgård vid bron till svärsonen, kofferdiekaptenen och skepparen Erik Grundberg och hans hustru Beata Nilsdotter. <a href="/gardar/hjalm-2-erik-nilssons-gard-oster/">Läs mer</a>
<blockquote><p></p><p> <h2>Av arvsskiftet och undantagskontraktet framgår följande:</h2></p><p>   <em>1. Skall Nils Andersson och hans hustru Anna Persdotter uti bägges theras lifstid, njuta sin tillräckeliga födo- och uppehälle på hemmanet hos Skepparen Grundberg och hans hustru, hvilka böra bemöta them med all barnslig ömhet och kjärlek; men i annom händelse, lemna them tillräckeligt undantag af åker och äng med nödiga hus och Bohag så at föräldrarne på sin ålderdom ej lida någon nöd.</em></p><p>   <em>7. Såsan årligt undantag af hemmanet, förbehålla sig Svärföräldrarne, therså omträngas skulle, en tunna Råg, en tunna Korn, Åker till ett tunneland, som Grundberg bör sjelf med sine dragare låta reda ock bråka samt ett lass hö med nödige hus och en Ko.</em> <a class="footnote-link" href="#footnote1"><sup>[1]</sup></a></p><p></p><p></p></blockquote>
<h2>Grundberg bygger undantagsstuga till svärföräldrarna</h2>
<p>På den samfällda utmarken bygger svärsonen Erik Grundberg 1787 en undantagsstuga till svärföräldrarna. Hit flyttar Nils och Anna tillsammans med de yngsta barnen, Peter född 1765, Anna Maria född 1768 och Anna Christina född 1772. De får dock inte njuta så länge av sitt undantag eftersom både Nils och Anna dör under 1793. Under åren 1795-1796 upplåter Grundberg stugan till torparna Anders Håkansson och Anders Örn. Därefter blir stugan ledig. <a class="footnote-link" href="#footnote2"><sup>[2]</sup></a><a class="footnote-link" href="#footnote3"><sup>[3]</sup></a><a class="footnote-link" href="#footnote4"><sup>[4]</sup></a></p>

<section class="inline-image__container"><img class="inline-image" src="https://lh3.googleusercontent.com/pw/AP1GczNTTt0SjOXsBBlTS_QK-mzmLbi0H6iDzkSgq50XdHf5v_oxzuGaKJfeBaM3k7hboSQVdpLuVMqRMvCwA5xSMaYIx0rw8iiQUbj5TB2HSiO6zxXgVzHzTtu9CFJr4n30L--NVaIva20KH1YOIOnE-Jrd=w1491-h839-s-no-gm?authuser=0" alt="Lägesbeskrivning av stugruinen på utmarken" title="undefined"><section class="image-text"> Lägesbeskrivning av stugruinen. Till höger i bild, inramad med björkgrenar ligger den grävda brunnen. Koordinater: WGS84-57.491082-12.169351.<details><summary>ℹ️</summary><section class="image-attribution">"Stugruinen, som är markerad" av Leif Andersson är licenserad under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></section></details></section></section>

<section class="inline-image__container"><img class="inline-image" src="https://lh3.googleusercontent.com/pw/AP1GczNywRHzpPO4A7RUTAYICJD_d2Kg3M6rj4SlAlBLRwmKxHmNgF_diWZxgoj9fJgZHpLbBS1BEJHcdcuqQ8Kt5EvaCztgDJbygqryfAlhZbMBzV--1UQ-NKD4OGw9vK1L2OqsfmcRRuk06eABpddLmcZ0=w1200-h675-s-no-gm?authuser=0" alt="Under golvet i stugan fanns en grävd källare" title="undefined"><section class="image-text"> Utgrävd källare under golvet i stugan.<details><summary>ℹ️</summary><section class="image-attribution">"Källare under golvet i stugan" av Leif Andersson är licenserad under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></section></details></section></section>

<section class="inline-image__container"><img class="inline-image" src="https://lh3.googleusercontent.com/pw/AP1GczM2zfI8ZrlNkTct002eFLKIwSvGDcoz33rreyaizE7JKxYaPggSvchlHL7t97rzzTtcblvztvAFHaC3D8ZA9Dv1n3jsLdR4wLFL1PMVex5gWH0G3dK_ztu7Oub9nA4KD11mHAhADrWE6k-0ROLAlolx=w903-h839-s-no-gm?authuser=0" alt="Ritning över stuga med källare samt brunn" title="undefined"><section class="image-text"> Ritning över stugan med källare, uthus och den grävda brunnen. Troligen är stugan en så kallad Enkelstuga, vilket också är omnämnt i en senare bouppteckning.<details><summary>ℹ️</summary><section class="image-attribution">"Ritning över torpet" av Jan Kuylenstierna är licenserad under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></section></details></section></section>

<h2>Nygifta undomar tar över stugan</h2>
<p>År 1797 gifter sjömannen Jöns Andersson, född 1768 i Buera, Fjärås sig med pigan Brita Maja Matsdotter, född 1774 i Hjelm 2, Erik Nilsgård, västra hemmansdelen. 1802 föds sonen Johannes. Jöns är långa tider på sjön och när Brita Maja dör 1817 har han inte hörts av på 14 år. Sonen Johannes blir dräng hos Peter Larsson i Hjälm 3. <a class="footnote-link" href="#footnote5"><sup>[5]</sup></a><a class="footnote-link" href="#footnote7"><sup>[7]</sup></a></p>

<h2>Arrendator lämnar sin gård och blir tredje familjen i stugan</h2>
<p>Åbon Erik Andersson, född 1767 i Hjälm 8, Bengt eller Svensgård, en arrendegård under Gåsevadholm, som han brukar. 1809 lämnar han gården på grund av sjukdom. Tillsammans med hustrun Helena Börgesdotter, född 1765 i Hjälm 6, Per Jönsgård och deras tre barn, Anders, född 1795, Börge, född 1800 och Johanna, född 1804, flyttar de in hos sjömanshustrun Brita Maja. Efter hennes död 1817 tar de över stugan. De bor här sedan i tre generationer. Dottern Johanna gifter sig till Össlöv, men dör endast 24 år gammal i barnsbörd. Sönerna Anders och Börge utbildar sig båda till skomakare. <a class="footnote-link" href="#footnote6"><sup>[6]</sup></a><a class="footnote-link" href="#footnote7"><sup>[7]</sup></a></p>

<h2>Sönerna, skomakare tar över efter fadern</h2>
<p>Anders tar som nygift över stugan, men blir sedan bonde i byn. Börge tar över stugan efter brodern Anders och blir sockenskomakare. Börge är gift två gånger och får sex barn, tre med vardera hustrun. Tre söner och tre döttrar. Tre av barnen, två söner och en dotter utvandrar till Amerika. Vid sidan av skomakeriet har Börge en ko och tre får vid stugan. <a class="footnote-link" href="#footnote8"><sup>[8]</sup></a><a class="footnote-link" href="#footnote9"><sup>[9]</sup></a></p>

<blockquote><p></p><p><h2>Av bouppteckning 1839 efter första hustrun finns det bland annat följande:</h2></p><p><em>En Kammare med Tre väggar, värderad till 50 Rd, En Snörenål av silver och En Sjöskoms pipa av silfver. Det finns också tre blåsintrument och en violin. Förutom skomakarverktyg finns det en svarvstol med järn vilket tyder på att man även slöjdade i familjen. Där finns också kläder och textilier av fint och dyrbart tyg, som kaschmir, kambrik-batist och fyrtrådstyg, ett tjockt ylletyg med fydubbelt tvinnat inslag. Under skulder finns upptaget bland annat; 8½ kanna brännvin (=ca 21,5 liter) samt 1½ skålpund kaffe (=ca 5,4 hg), 1 skålpund socker (=4,25 hg), kryddpeppar, anis, ljus och risgryn.</em> <a class="footnote-link" href="#footnote10"><sup>[10]</sup></a></p><p> Detta ger oss en bild av en skomakarfamilj och livet i stugan.</p><p></p></blockquote>

<h2>Tredje generationen tar över stugan</h2>
<p>Börjes son i första giftet med Kjerstin Andersdotter, Anders Emanuel blir också skomakare och kallades i byn <em>Skomakar-Emanuel</em>. Han och hustrun Brita Albertina Persdotter från Hjälm 1, Anders Bengtsgård eller <em>Månsa</em> i Tölö får åtta barn, fyra söner och fyra döttrar. En dotter och en son dör i spåd ålder. År 1888 flyttar familjen till Stormhult. Tre söner och en dotter utvandrar till Amerika.<br>Styvmodern Anna Beata Andreasdotter, född 1821 i byn, bor kvar i stugan till sin död 1892. Därefter rivs troligen stugan. <a class="footnote-link" href="#footnote11"><sup>[11]</sup></a><a class="footnote-link" href="#footnote12"><sup>[12]</sup></a><a class="footnote-link" href="#footnote13"><sup>[13]</sup></a></p>

<p><hr></p>

<h2>Källor:</h2>
<ol><li id="footnote1">Fjäre häradsrätt (N) FIIa:11 (1780-1785) Bild: 487 Sida:907. Förtida arvsskifte och undantagskontrakt. <a href="https://app.arkivdigital.se/volume/v156491?image=487">https://app.arkivdigital.se/volume/v156491?image=487</a> <em>För att läsa det förtida arvsskiftet krävs abonnemang hos Arkiv Digital</em></li>
<li id="footnote2">Fjärås kyrkoarkiv, Husförhörsslängder AI:2 (1784-1790) bild 81. Nils Andersson o Anna Persdotter i sin Undantagsstuga. <a href="https://sok.riksarkivet.se/bildvisning/C0010400_00081#?xywh=615%2C353%2C3967%2C1398&cv=80">https://sok.riksarkivet.se/bildvisning/C0010400_00081#?xywh=615%2C353%2C3967%2C1398&cv=80</a></li>
<li id="footnote3">Mantalslängder 1642-1820 Hallands län, (1795) b 447/s 429, Torp Anders Håkansson. <a href="https://sok.riksarkivet.se/bildvisning/A0006249_00447#?cv=446&xywh=1429%2C905%2C4603%2C1601&rid=https%3A%2F%2Flbiiif.riksarkivet.se%2Farkis!A0006249%2Frange%2Fr39-1">https://sok.riksarkivet.se/bildvisning/A0006249_00447#?cv=446&xywh=1429%2C905%2C4603%2C1601&rid=https%3A%2F%2Flbiiif.riksarkivet.se%2Farkis!A0006249%2Frange%2Fr39-1</a></li>
<li id="footnote4">Mantalslängder 1642-1820, Hallands län, (1796) Torpare Håkansson och Örn. <a href="https://sok.riksarkivet.se/bildvisning/A0006250_00631#?cv=630&xywh=142%2C2902%2C4129%2C1455">https://sok.riksarkivet.se/bildvisning/A0006250_00631#?cv=630&xywh=142%2C2902%2C4129%2C1455</a></li>
<li id="footnote5">Fjärås kyrkoarkiv, Husförhörslängder, AI:3 (1790-1799) b 499/s 78, Jöns Andersson o Brita Maria Matsdtr på Loftet. <a href="https://sok.riksarkivet.se/bildvisning/C0010401_00499#?xywh=287%2C2641%2C5038%2C1752&cv=498">https://sok.riksarkivet.se/bildvisning/C0010401_00499#?xywh=287%2C2641%2C5038%2C1752&cv=498</a></li>
<li id="footnote6">Fjärås kyrkoarkiv, Husförhörslänger, AI:6 (1812-1813) b 64/s 98. Erik Andersson m fam flyttar in på Loftet. <a href="https://sok.riksarkivet.se/bildvisning/C0010404_00064#?xywh=-22%2C1486%2C4112%2C1431&cv=63">https://sok.riksarkivet.se/bildvisning/C0010404_00064#?xywh=-22%2C1486%2C4112%2C1431&cv=63</a></li>
<li id="footnote7">Fjärås kyrkoarkiv, Husförhörslängder, AI:9 (1815-1817) b 58/s 98. Brita Maja Matsdtr dör, Erik Andersson tar över stugan. <a href="https://sok.riksarkivet.se/bildvisning/C0010407_00058#?xywh=621%2C1443%2C3543%2C1232&cv=57">https://sok.riksarkivet.se/bildvisning/C0010407_00058#?xywh=621%2C1443%2C3543%2C1232&cv=57</a></li>
<li id="footnote8">Fjärås kyrkoarkiv, Husförhörslängder, AI:13 (1823-1825), b 62/s 98. Anders Eriksson tar över torpet. <a href="https://sok.riksarkivet.se/bildvisning/C0010411_00062#?xywh=316%2C1071%2C2917%2C1015&cv=61">https://sok.riksarkivet.se/bildvisning/C0010411_00062#?xywh=316%2C1071%2C2917%2C1015&cv=61</a></li>
<li id="footnote9">Fjärås kyrkoarkiv, Husförhörslängder, AI:16 (1834-1841) b 36/s 48. Börje Eriksson tar över Loftet. <a href="https://sok.riksarkivet.se/bildvisning/C0010414_00036#?xywh=2139%2C2191%2C3480%2C1210&cv=35">https://sok.riksarkivet.se/bildvisning/C0010414_00036#?xywh=2139%2C2191%2C3480%2C1210&cv=35</a></li>
<li id="footnote10">Fjäre häradsrätt (N), FIIa:48 (1840), bild 2670/sid 499, Bouppteckning Kerstin Andersdotter. <a href="https://app.arkivdigital.se/volume/v156528?image=2670">https://app.arkivdigital.se/volume/v156528?image=2670</a> - <em>För att läsa bouppteckningen krävs abonnemang hos Arkiv Digital</em></li>
<li id="footnote11">Fjärås krykoarkiv, Husförhörslängder, AI:19 (1861-1875) bild 118. Anders Emanuel Börjesson m fam. <a href="https://sok.riksarkivet.se/bildvisning/C0010417_00118#?xywh=-3263%2C30%2C16690%2C5807&cv=117">https://sok.riksarkivet.se/bildvisning/C0010417_00118#?xywh=-3263%2C30%2C16690%2C5807&cv=117</a></li>
<li id="footnote12">Fjärås kyrkoarkiv, Husförhörslängder, AI:20 (1876-1890) b 162/s 185 Familjen flyttar, endast änkan Anna Beata Andreasdtr är kvar. <a href="https://sok.riksarkivet.se/bildvisning/C0010418_00162#?xywh=-1519%2C107%2C12166%2C4233&cv=161">https://sok.riksarkivet.se/bildvisning/C0010418_00162#?xywh=-1519%2C107%2C12166%2C4233&cv=161</a></li>
<li id="footnote13">Fjärås kyrkoarkiv, Död-och Begravningboken (1892) Anna Beata Andreasdtr. <a href="https://sok.riksarkivet.se/bildvisning/00134507_00108#?xywh=3%2C-65%2C2401%2C1258&cv=107&rid=https%3A%2F%2Flbiiif.riksarkivet.se%2Farkis!00134507%2Frange%2Fr1-1-2">https://sok.riksarkivet.se/bildvisning/00134507_00108#?xywh=3%2C-65%2C2401%2C1258&cv=107&rid=https%3A%2F%2Flbiiif.riksarkivet.se%2Farkis!00134507%2Frange%2Fr1-1-2</a></li>
</ol>

<p><hr></p>
        </section>
    </main>
    <footer class="main-footer">
        <section class="footer-container">
            Skicka gärna idéer och synpunkter till&nbsp;<a href="mailto:kontakt@hielmbygden.se">kontakt@hielmbygden.se</a>
        </section>
    </footer>
    <script>
        document.querySelector(".main-nav").addEventListener("click", event => event.stopPropagation())

        document.addEventListener("click", event => {
            // Close all infoboxes
            document.querySelectorAll(".footnote-infobox").forEach(el => el.remove())

            // Close main menu
            document.querySelector(".main-nav").childNodes[0].open = false 
        })

        document.querySelectorAll(".footnote-link").forEach(el => {
            let infoBoxEl
            let openTimer
            let blockMouseOverEventHandling = false

            let openInfoBox = async event => {
                let res
                if (!openTimer) {
                    let aEl = event.target
                    if (aEl.tagName !== "A") {
                        aEl = event.target.parentElement
                    }
                    let noteEl = document.querySelector(aEl.getAttribute("href"))
                    let htmlText = noteEl.innerHTML 
                    if (htmlText) {
                        let rect = aEl.getBoundingClientRect()
                        infoBoxEl = document.createElement("section")
                        infoBoxEl.classList.add("footnote-infobox")
                        infoBoxEl.dataset.callerid = aEl.href
                        infoBoxEl.innerHTML = htmlText
                        infoBoxEl.style.opacity = 0
                        document.querySelector("body").appendChild(infoBoxEl)
                        let infoBoxRect = infoBoxEl.getBoundingClientRect()
                        let left = (rect.left + window.scrollX - infoBoxRect.width/2)
                        let top = (rect.top + window.scrollY - infoBoxRect.height)
                        if (left < 0) {
                            left = 0
                        }
                        if (top < 0) {
                            top = 0
                        }
                        infoBoxEl.style.left = left + "px"
                        infoBoxEl.style.top = top + "px"
                        infoBoxEl.style.opacity = 1
                    }
                    res = { aEl, infoBoxEl }
                }
                return res
            }

            el.addEventListener("touchend", async event => {
                // Looks like we are on touch device. 
                // We don't want any mouse over events, thanks...
                blockMouseOverEventHandling = true
            })
            el.addEventListener("click", async event => {
                let infoBoxEl = document.querySelector(".footnote-infobox")
                let aEl = event.target
                if (aEl.tagName !== "A") {
                    aEl = event.target.parentElement
                }
                if (infoBoxEl && infoBoxEl.dataset.callerid !== aEl.href) {
                    // Close infobox since clicking on new link
                    infoBoxEl.remove()
                    infoBoxEl = undefined
                }

                if (!infoBoxEl) {
                    // No infobox exists, show it
                    event.preventDefault()
                    await openInfoBox(event)
                    event.stopPropagation()
                }
            })
            el.addEventListener("mouseover", async event => {
                if (!blockMouseOverEventHandling) {
                    let openInfoBoxResponse = await openInfoBox(event)
                    if (openInfoBoxResponse) {
                        let { aEl, infoBoxEl } = openInfoBoxResponse

                        openTimer = setInterval(_ => {
                            if (openTimer && !aEl.matches(":hover") && !infoBoxEl.matches(":hover")) {
                                infoBoxEl.remove()
                                clearInterval(openTimer)
                                openTimer = undefined
                            }
                        }, 100)
                    }
                }
            })
        })
        document.querySelectorAll('a[href*="ordbok"]').forEach(el => {
            let infoBoxEl
            let openTimer
            let blockMouseOverEventHandling = false

            let openInfoBox = async event => {
                let res
                if (!openTimer) {
                    let aEl = event.target
                    if (aEl.tagName !== "A") {
                        aEl = event.target.parentElement
                    }
                    let response = await fetch(el.href + "/min.html")
                    let htmlText = await response.text()
                    if (htmlText) {
                        let rect = aEl.getBoundingClientRect()
                        infoBoxEl = document.createElement("section")
                        infoBoxEl.classList.add("footnote-infobox")
                        infoBoxEl.dataset.callerid = aEl.href
                        infoBoxEl.innerHTML = htmlText
                        infoBoxEl.style.opacity = 0
                        document.querySelector("body").appendChild(infoBoxEl)
                        let infoBoxRect = infoBoxEl.getBoundingClientRect()
                        let left = (rect.left + window.scrollX - infoBoxRect.width/2)
                        let top = (rect.top + window.scrollY - infoBoxRect.height)
                        if (left < 0) {
                            left = 0
                        }
                        if (top < 0) {
                            top = 0
                        }
                        infoBoxEl.style.left = left + "px"
                        infoBoxEl.style.top = top + "px"
                        infoBoxEl.style.opacity = 1
                    }
                    res = { aEl, infoBoxEl }
                }
                return res
            }

            el.addEventListener("touchend", async event => {
                // Looks like we are on touch device. 
                // We don't want any mouse over events, thanks...
                blockMouseOverEventHandling = true
            })
            el.addEventListener("click", async event => {
                let infoBoxEl = document.querySelector(".footnote-infobox")
                let aEl = event.target
                if (aEl.tagName !== "A") {
                    aEl = event.target.parentElement
                }
                if (infoBoxEl && infoBoxEl.dataset.callerid !== aEl.href) {
                    // Close infobox since clicking on new link
                    infoBoxEl.remove()
                    infoBoxEl = undefined
                }

                if (!infoBoxEl) {
                    // No infobox exists, show it
                    event.preventDefault()
                    await openInfoBox(event)
                    event.stopPropagation()
                }
            })
            el.addEventListener("mouseover", async event => {
                if (!blockMouseOverEventHandling) {
                    let openInfoBoxResponse = await openInfoBox(event)
                    if (openInfoBoxResponse) {
                        let { aEl, infoBoxEl } = openInfoBoxResponse

                        openTimer = setInterval(_ => {
                            if (openTimer && !aEl.matches(":hover") && !infoBoxEl.matches(":hover")) {
                                infoBoxEl.remove()
                                clearInterval(openTimer)
                                openTimer = undefined
                            }
                        }, 100)
                    }
                }
            })
        })
    </script>
</body>